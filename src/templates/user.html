<!doctype html>
<html>

<head>
    <!-- Bootstrap -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- Bootstrap -->

    <!-- import own css -->
    <link rel="stylesheet" href="{{url_for('static', filename='custom.css') }}">


    </script>


    <!-- import own css -->

    <title>Main</title>
</head>

<body>
    {% include "header.html" %}
    {% include "flash.html" %}
    <div class="container h-100">
        <div class="row align-items-center h-75">
            <div class="col-12 mx-auto">
                <h3>Load data of specific user by ID</h3>
                <input id="id1">
                <button type="button" onclick="loadUser()">Load User</button>
                <p id="demo"></p>

                <table class="table table-striped" style="word-break:break-all;">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">ID</th>
                            <th scope="col">Name</th>
                            <th scope="col">PW</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for user in (users) %}
                        <tr>
                            <!-- The counter variable inside the loop is called loop.index in jinja2. -->
                            <th scope="row">{{loop.index}}</th>
                            <td>{{user.id}}</td>
                            <td>{{user.username}}</td>
                            <td>{{user.userpassword}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>

        <script>
            function loadUser() {

                var username = document.getElementById("id1").value;
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function () {
                    if (this.readyState == 4 && this.status == 200) {
                        document.getElementById("demo").innerHTML = this.responseText;
                    }
                };
                //Achtung `` statt "
                xhttp.open("GET", `http://localhost:8080/api/User/${username}`, true);
                xhttp.send();
            }
        </script>


        <!-- Bootstrap -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
        <!-- Bootstrap -->

</html>